---
## Front matter
lang: ru-RU
title: Защита лабораторной работы №5
subtitle: Информационная безопасность
author:
  - Шатохина В. С.
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 2024

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
  - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
  - '\makeatletter'
  - '\beamer@ignorenonframefalse'
  - '\makeatother'
---

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Малашенко Марина Владимировна
  * Студентка группы НФИбд-01-20
  * Студ. билет 1032202459
  * Российский университет дружбы народов

:::
::: {.column width="30%"}

![](./image/0.PNG)

:::
::::::::::::::


## Цель лабораторной работы

- Изучение механизмов изменения идентификаторов, применения
SetUID- и Sticky-битов. Получение практических навыков работы в консоли с дополнительными атрибутами. Рассмотрение работы механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов

## Теоретическая справка (1)

**1. Дополнительные атрибуты файлов Linux** 

В Linux существует три основных вида прав — право на чтение (read), запись (write) и выполнение (execute), а также три категории пользователей, к которым они могут применяться — владелец файла (user), группа владельца (group) и все остальные (others). Но, кроме прав чтения, выполнения и записи, есть еще три дополнительных атрибута. [1]

## Теоретическая справка (2)

**2. Компилятор GCC** 

GСС - это свободно доступный оптимизирующий компилятор для языков C, C++.
Собственно программа gcc это некоторая надстройка над группой компиляторов, которая способна анализировать имена файлов, передаваемые ей в качестве аргументов, и определять, какие действия необходимо выполнить. Файлы с расширением .cc или .C рассматриваются, как файлы на языке C++, файлы с расширением .c как программы на языке C, а файлы c расширением .o считаются объектными. [2]

# Ход выполнения лабораторной работы

## 5.2.1. Подготовка лабораторного стенда

![(рис. 1. Установка gss)](image/image1.PNG){ #fig:001 width=70% height=70% }

## 5.3.1 Создание программы

Создали программу simpleid.c

![(рис. 2. simpleid.c)](image/image2.PNG){ #fig:002 width=70% height=70% }

## 5.3.1 Создание программы

Скомплилировали и выполнили программу simpleid. Затем выполнили системную программу id и сравнили полученные результаты

![(рис. 3. 3-5 пункты задания лабораторной)](image/image3.PNG){ #fig:003 width=70% height=70% }

## 5.3.1 Создание программы

Усложнили программу, добавив вывод действительных идентификаторов

![(рис. 4. simpleid2.c)](image/image4.PNG){ #fig:004 width=70% height=70% }

## 5.3.1 Создание программы

Скомплилировали и выполнили программу simpleid2

![(рис. 5. 7 пункт задания лабораторной)](image/image5.PNG){ #fig:005 width=70% height=70% }

## 5.3.1 Создание программы

От имени суперпользователя выполнили команды и проверили правильность установки новых атрибутов и смены
владельца файла. Запустили simpleid2 и id.
Сравнили результаты. Проделали то же самое относительно SetGID-бита

![(рис. 6. 8-12 пункты задания лабораторной)](image/image6.PNG){ #fig:006 width=70% height=70% }

## 5.3.1 Создание программы

Скомплилировали программу readfile.c

![(рис. 7. readfile.c)](image/image7.PNG){ #fig:007 width=70% height=70% }

## 5.3.1 Создание программы

Сменили владельца у файла и изменили права так, чтобы только суперпользователь мог прочитать его, a guest не мог

![(рис. 8. chmod)](image/image8.PNG){ #fig:008 width=70% height=70% }

## 5.3.1 Создание программы

Проверили, что guest не может прочитать файл.
Сменили у программы readfile владельца и установили SetU’D-бит. Проверили, может ли программа readfile прочитать файл readfile.c, файл /etc/shadow

![(рис. 9. 16-19 пункты Guest)](image/image9.PNG){ #fig:009 width=70% height=70% }

## 5.3.1 Создание программы

От имени суперпользователя все предыдущие команды удается выполнить

![(рис. 10. 16-18 пункты суперпользователь)](image/image10.PNG){ #fig:010 width=70% height=70% }

## 5.3.2. Исследование Sticky-бита

Выяснили, установлен ли атрибут Sticky на директории /tmp,
создали файл file01.txt со словом test.
Просмотрели атрибуты у только что созданного файла и разрешили чтение и запись для категории пользователей «все остальные»

![(рис. 12. 1-3 пункты)](image/image12.PNG){ #fig:012 width=70% height=70% }

## 5.3.2. Исследование Sticky-бита

От guest2 попробовали прочесть файл, дозаписать слово test2, затем записать слово test3, стерев при этом всю имеющуюся в файле информацию. Попробовали удалить файл. Этого сделать не удалось.

Повысили свои права до суперпользователя и сняли атрибут t с директории /tmp. От guest2 проверили, что атрибута t у директории /tmp нет

![(рис. 13. 4-12 пункты)](image/image13.PNG){ #fig:013 width=70% height=70% }

## 5.3.2. Исследование Sticky-бита

Повторили предыдущие шаги. При повторении всё получилось.
Удалось удалить файл от имени пользователя, не являющегося его владельцем.

Повысили свои права до суперпользователя и вернули атрибут t на директорию /tmp

![(рис. 15. Возвращение атрибута)](image/image15.PNG){ #fig:015 width=70% height=70% }

# Вывод

## Вывод

- Были изучены механизмы изменения идентификаторов и применения SetUID- и Sticky-битов. Получены практические навыки работы в консоли с дополнительными атрибутами. Были рассмотрены работа механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов

# Список литературы. Библиография

[0] Методические материалы курса

[1] Дополнительные атрибуты: https://tokmakov.msk.ru/blog/item/141

[2] Компилятор GSS: http://parallel.imm.uran.ru/freesoft/make/instrum.html